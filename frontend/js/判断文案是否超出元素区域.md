要实现元素超过父级宽度省略展示，并支持悬浮提示；当父元素宽度满足展示时不支持悬浮展示，如下图：

![alt text](./images/textoverlfow.png)

### 1.获取文本区域内容宽度后根据字体大小判断可以展示的字数进行提示

```js
// react 

const [visibleTextLength, setVisibleTextLength] = useState(40);

const renderTypes = () => {
    return searchTypes.map((it, index) => (
        <Col
        span={props.column ? 24 : 8}
        style={{ marginBottom: props.column ? 16 : 0 }}
        key={index}
        >
        <div
            className="sconfi__type"
            onClick={() => updateProperty('searchType', it.value)}
        >
            <Tooltip
            position="left"
            content={it.desc}
            mouseEnterDelay={1000}
            zIndex={it.desc?.length > visibleTextLength ? 1030 : -1}
            >
            <div className="sconfi__type_desc">{it.desc}</div>
            </Tooltip>
        </div>
        </Col>
    ));
};

// resizeListener 是 浏览器 resize 监听函数钩子
resizeListener(() => {
    let targetEle = document.getElementsByClassName('sconfi__type_desc')?.[0];
    if (targetEle) {
        // console.log('font-size', targetEle.computedStyleMap().get('font-size'));
        setVisibleTextLength(Math.floor((targetEle.clientWidth / 14) * 3)); // 14是字体大小 3是可以展示的行数
    }
});
```

### 2.使用元素的 clientWidth 与 scrollWidth 进行比较

```vue
<template>
  <div class="knowledge-rank">
    <div ref="contentRef" class="rank-content">
      <div v-for="(item, index) in rankList" :key="index" class="rank-item">
        <a-tooltip :overlay-style="{ zIndex: computeELeWidth(index) }">
          <template #title>{{ item.title }}</template>
          <div class="rank-item-text">
            {{ item.title }}
          </div>
        </a-tooltip>
      </div>
    </div>
  </div>
</template>
<script setup lang="ts">
const contentRef = ref(null)
function computeELeWidth(sort: number) {
  let zIndex = 1030
  if (contentRef.value) {
    const showText = (contentRef.value as HTMLElement).getElementsByClassName('rank-item-text')[sort]
    if (showText.clientWidth >= showText.scrollWidth) {
      zIndex = -1
    }
  }
  return zIndex
}
</script>
```

### 3.使用一个透明span标签与目标元素存放相同内容，当span标签宽度超出则进行悬浮提示